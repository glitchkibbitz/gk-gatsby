{"version":3,"sources":["webpack://glitch-kibbitz/./node_modules/react-godot/dist/AsyncLoading.js","webpack://glitch-kibbitz/./node_modules/iframe-resizer-react/dist/index.es.js","webpack://glitch-kibbitz/./src/pages/games/starryShtetlDefender.js"],"names":["createContext","mode","initializing","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","module","iframeResizer","undefined$1","window","$","count","logEnabled","hiddenCheckEnabled","msgHeaderLen","msgId","msgIdLen","pagePosition","requestAnimationFrame","resetRequiredMethods","max","scroll","bodyScroll","documentElementScroll","settings","timer","defaults","autoResize","bodyBackground","bodyMargin","bodyMarginV1","bodyPadding","checkOrigin","inPageLinks","enablePublicMethods","heightCalculationMethod","id","interval","log","maxHeight","Infinity","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClose","onClosed","onInit","onMessage","warn","onMouseEnter","onMouseLeave","onResized","onScroll","frameTimer","jQuery","fn","iFrameResize","options","filter","each","index","element","setupIFrame","end","info","exports","factory","getMutationObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","addEventListener","el","evt","func","removeEventListener","formatLogHeader","iframeId","retStr","top","self","parentIFrame","getId","getMyID","isLogEnabled","msg","output","type","enabled","console","iFrameListener","event","resizeIFrame","ensureInRange","syncResize","setSize","messageData","setPagePosition","on","getPaddingEnds","compStyle","boxSizing","paddingTop","parseInt","paddingBottom","getBorderEnds","borderTopWidth","borderBottomWidth","Dimension","Number","min","dimension","toLowerCase","size","getMsgBody","offset","substr","sendPageInfoToIframe","iframe","time","frameId","bodyPosition","iFramePosition","trigger","document","body","getBoundingClientRect","JSON","stringify","iframeHeight","height","iframeWidth","width","clientHeight","Math","documentElement","innerHeight","clientWidth","innerWidth","offsetTop","offsetLeft","left","scrollTop","pageYOffset","scrollLeft","pageXOffset","documentHeight","documentWidth","windowHeight","windowWidth","setTimeout","getElementPosition","getPagePosition","x","floor","y","scrollRequestFromChild","addOffset","newPosition","scrollTo","unsetPagePosition","onMouse","screenX","screenY","funcName","val","chkEvent","retBool","retCode","data","createOutgoingMsg","iFrameReadyMsgReceived","split","getComputedStyle","loaded","true","false","undefined","hasSettings","remoteHost","origin","constructor","Array","checkList","Error","isMessageFromIFrame","firstRun","closeIFrame","msgBody","message","parse","setListener","sendPageInfo","stop","forEach","stopPageInfo","startPageInfoMonitor","hash","hashData","decodeURIComponent","getElementById","getElementsByName","jumpPosition","moveToAnchor","resetIFrame","actionMsg","retVal","TypeError","removeIframeListeners","parentNode","removeChild","error","chkZero","checkIFrames","checkIFrame","settingId","chkDimension","style","isVisible","offsetParent","mutationObserved","mutations","debouce","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observe","fixHiddenIFrames","processDimension","setDimension","doNotSync","jasmine","calleeMsg","noResponseWarning","errorShown","contentWindow","targetOrigin","postMessage","msgTimeout","depricate","splitName","name","charAt","toUpperCase","slice","src","ensureHasId","join","checkOptions","option","copyOptions","match","processOptions","overflow","setScrolling","addStyle","chkMinMax","setLimits","mutation","removedNodes","removedNode","createDestroyObserver","resetRequertMethod","iFrameResizer","close","bind","removeListeners","resize","anchor","sendMessage","tabVisible","visibilityState","sendTriggerMsg","eventName","isIFrameResizeEnabled","setupEventListeners","init","tagName","chkType","iFrames","push","vendors","setupRequestAnimationFrame","warnDeprecatedOptions","querySelectorAll","warning","warning_1","IframeResizer","props","title","forwardRef","rest","iframeProps","filterIframeAttribs","iframeRef","useRef","current","useEffect","useImperativeHandle","ref","defaultProps","ShtetlDefender","styled","StarryShtetlDefenderPage","Seo","className","border","seamless","href"],"mappings":"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","file":"component---src-pages-games-starry-shtetl-defender-js-1b4dabd56463233f3585.js","sourcesContent":["import * as React from \"react\";\nimport { createContext, useContext, useReducer } from \"react\";\n\nvar packLoadingReducer = function packLoadingReducer(state, action) {\n  if (!state.initializing) return state;\n\n  switch (action.mode) {\n    case \"progress\":\n    case \"indeterminate\":\n    case \"notice\":\n    case \"hidden\":\n      break;\n\n    default:\n      throw new Error(\"Invalid status mode\");\n  }\n\n  var nextState = {\n    mode: action.mode,\n    msg: action.msg,\n    percent: action.percent || 0,\n    initializing: !action.initialized\n  };\n  return nextState;\n};\n\nvar LoadingContext = createContext([{\n  mode: \"\",\n  initializing: true\n}, function () {}]);\nexport var useLoading = function useLoading() {\n  return useContext(LoadingContext);\n};\n\nvar Loading = function Loading(_a) {\n  var notice = _a.notice,\n      _b = _a.percent,\n      percent = _b === void 0 ? 0 : _b,\n      _c = _a.indeterminate,\n      indeterminate = _c === void 0 ? false : _c;\n  return React.createElement(\"div\", {\n    id: \"status\"\n  }, indeterminate ? React.createElement(\"div\", {\n    id: \"status-indeterminate\",\n    onContextMenu: function onContextMenu(e) {\n      return e.preventDefault();\n    }\n  }, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null)) : React.createElement(\"div\", {\n    id: \"status-progress\",\n    onContextMenu: function onContextMenu(e) {\n      return e.preventDefault();\n    }\n  }, React.createElement(\"div\", {\n    id: \"status-progress-inner\",\n    style: {\n      width: percent + \"%\"\n    }\n  })), notice && React.createElement(\"div\", {\n    id: \"status-notice\",\n    className: \"godot\"\n  }, notice));\n};\n\nvar AsyncLoading = function AsyncLoading(_a) {\n  var children = _a.children;\n\n  var _b = useReducer(packLoadingReducer, {\n    mode: \"indeterminate\",\n    initializing: true\n  }),\n      loadingState = _b[0],\n      dispatchLoadingAction = _b[1];\n\n  return React.createElement(LoadingContext.Provider, {\n    value: [loadingState, dispatchLoadingAction]\n  }, loadingState.mode !== \"hidden\" && React.createElement(Loading, {\n    notice: loadingState.msg,\n    percent: loadingState.percent,\n    indeterminate: loadingState.mode === \"indeterminate\"\n  }), children);\n};\n\nexport default AsyncLoading;","import React, { useRef, useEffect, useImperativeHandle } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar iframeResizer = createCommonjsModule(function (module) {\n  (function (undefined$1) {\n    if (typeof window === 'undefined') return; // don't run for server side render\n\n    var count = 0,\n        logEnabled = false,\n        hiddenCheckEnabled = false,\n        msgHeader = 'message',\n        msgHeaderLen = msgHeader.length,\n        msgId = '[iFrameSizer]',\n        // Must match iframe msg ID\n    msgIdLen = msgId.length,\n        pagePosition = null,\n        requestAnimationFrame = window.requestAnimationFrame,\n        resetRequiredMethods = {\n      max: 1,\n      scroll: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n        settings = {},\n        timer = null,\n        defaults = {\n      autoResize: true,\n      bodyBackground: null,\n      bodyMargin: null,\n      bodyMarginV1: 8,\n      bodyPadding: null,\n      checkOrigin: true,\n      inPageLinks: false,\n      enablePublicMethods: true,\n      heightCalculationMethod: 'bodyOffset',\n      id: 'iFrameResizer',\n      interval: 32,\n      log: false,\n      maxHeight: Infinity,\n      maxWidth: Infinity,\n      minHeight: 0,\n      minWidth: 0,\n      resizeFrom: 'parent',\n      scrolling: false,\n      sizeHeight: true,\n      sizeWidth: false,\n      warningTimeout: 5000,\n      tolerance: 0,\n      widthCalculationMethod: 'scroll',\n      onClose: function onClose() {\n        return true;\n      },\n      onClosed: function onClosed() {},\n      onInit: function onInit() {},\n      onMessage: function onMessage() {\n        warn('onMessage function not defined');\n      },\n      onMouseEnter: function onMouseEnter() {},\n      onMouseLeave: function onMouseLeave() {},\n      onResized: function onResized() {},\n      onScroll: function onScroll() {\n        return true;\n      }\n    };\n\n    function getMutationObserver() {\n      return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    }\n\n    function addEventListener(el, evt, func) {\n      el.addEventListener(evt, func, false);\n    }\n\n    function removeEventListener(el, evt, func) {\n      el.removeEventListener(evt, func, false);\n    }\n\n    function setupRequestAnimationFrame() {\n      var vendors = ['moz', 'webkit', 'o', 'ms'];\n      var x; // Remove vendor prefixing if prefixed and break early if not\n\n      for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n        requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n      }\n\n      if (!requestAnimationFrame) {\n        log('setup', 'RequestAnimationFrame not supported');\n      } else {\n        // Firefox extension content-scripts have a globalThis object that is not the same as window.\n        // Binding `requestAnimationFrame` to window allows the function to work and prevents errors\n        // being thrown when run in that context, and should be a no-op in every other context.\n        requestAnimationFrame = requestAnimationFrame.bind(window);\n      }\n    }\n\n    function getMyID(iframeId) {\n      var retStr = 'Host page: ' + iframeId;\n\n      if (window.top !== window.self) {\n        // eslint-disable-next-line unicorn/prefer-ternary\n        if (window.parentIFrame && window.parentIFrame.getId) {\n          retStr = window.parentIFrame.getId() + ': ' + iframeId;\n        } else {\n          retStr = 'Nested host page: ' + iframeId;\n        }\n      }\n\n      return retStr;\n    }\n\n    function formatLogHeader(iframeId) {\n      return msgId + '[' + getMyID(iframeId) + ']';\n    }\n\n    function isLogEnabled(iframeId) {\n      return settings[iframeId] ? settings[iframeId].log : logEnabled;\n    }\n\n    function log(iframeId, msg) {\n      output('log', iframeId, msg, isLogEnabled(iframeId));\n    }\n\n    function info(iframeId, msg) {\n      output('info', iframeId, msg, isLogEnabled(iframeId));\n    }\n\n    function warn(iframeId, msg) {\n      output('warn', iframeId, msg, true);\n    }\n\n    function output(type, iframeId, msg, enabled) {\n      if (true === enabled && 'object' === typeof window.console) {\n        // eslint-disable-next-line no-console\n        console[type](formatLogHeader(iframeId), msg);\n      }\n    }\n\n    function iFrameListener(event) {\n      function resizeIFrame() {\n        function resize() {\n          setSize(messageData);\n          setPagePosition(iframeId);\n          on('onResized', messageData);\n        }\n\n        ensureInRange('Height');\n        ensureInRange('Width');\n        syncResize(resize, messageData, 'init');\n      }\n\n      function processMsg() {\n        var data = msg.substr(msgIdLen).split(':');\n        var height = data[1] ? parseInt(data[1], 10) : 0;\n        var iframe = settings[data[0]] && settings[data[0]].iframe;\n        var compStyle = getComputedStyle(iframe);\n        return {\n          iframe: iframe,\n          id: data[0],\n          height: height + getPaddingEnds(compStyle) + getBorderEnds(compStyle),\n          width: data[2],\n          type: data[3]\n        };\n      }\n\n      function getPaddingEnds(compStyle) {\n        if (compStyle.boxSizing !== 'border-box') {\n          return 0;\n        }\n\n        var top = compStyle.paddingTop ? parseInt(compStyle.paddingTop, 10) : 0;\n        var bot = compStyle.paddingBottom ? parseInt(compStyle.paddingBottom, 10) : 0;\n        return top + bot;\n      }\n\n      function getBorderEnds(compStyle) {\n        if (compStyle.boxSizing !== 'border-box') {\n          return 0;\n        }\n\n        var top = compStyle.borderTopWidth ? parseInt(compStyle.borderTopWidth, 10) : 0;\n        var bot = compStyle.borderBottomWidth ? parseInt(compStyle.borderBottomWidth, 10) : 0;\n        return top + bot;\n      }\n\n      function ensureInRange(Dimension) {\n        var max = Number(settings[iframeId]['max' + Dimension]),\n            min = Number(settings[iframeId]['min' + Dimension]),\n            dimension = Dimension.toLowerCase(),\n            size = Number(messageData[dimension]);\n        log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max);\n\n        if (size < min) {\n          size = min;\n          log(iframeId, 'Set ' + dimension + ' to min value');\n        }\n\n        if (size > max) {\n          size = max;\n          log(iframeId, 'Set ' + dimension + ' to max value');\n        }\n\n        messageData[dimension] = '' + size;\n      }\n\n      function isMessageFromIFrame() {\n        function checkAllowedOrigin() {\n          function checkList() {\n            var i = 0,\n                retCode = false;\n            log(iframeId, 'Checking connection is from allowed list of origins: ' + checkOrigin);\n\n            for (; i < checkOrigin.length; i++) {\n              if (checkOrigin[i] === origin) {\n                retCode = true;\n                break;\n              }\n            }\n\n            return retCode;\n          }\n\n          function checkSingle() {\n            var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;\n            log(iframeId, 'Checking connection is from: ' + remoteHost);\n            return origin === remoteHost;\n          }\n\n          return checkOrigin.constructor === Array ? checkList() : checkSingle();\n        }\n\n        var origin = event.origin,\n            checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;\n\n        if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n          throw new Error('Unexpected message received from: ' + origin + ' for ' + messageData.iframe.id + '. Message was: ' + event.data + '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.');\n        }\n\n        return true;\n      }\n\n      function isMessageForUs() {\n        return msgId === ('' + msg).substr(0, msgIdLen) && msg.substr(msgIdLen).split(':')[0] in settings; // ''+Protects against non-string msg\n      }\n\n      function isMessageFromMetaParent() {\n        // Test if this message is from a parent above us. This is an ugly test, however, updating\n        // the message format would break backwards compatibity.\n        var retCode = (messageData.type in {\n          true: 1,\n          false: 1,\n          undefined: 1\n        });\n\n        if (retCode) {\n          log(iframeId, 'Ignoring init message from meta parent page');\n        }\n\n        return retCode;\n      }\n\n      function getMsgBody(offset) {\n        return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);\n      }\n\n      function forwardMsgFromIFrame(msgBody) {\n        log(iframeId, 'onMessage passed: {iframe: ' + messageData.iframe.id + ', message: ' + msgBody + '}');\n        on('onMessage', {\n          iframe: messageData.iframe,\n          message: JSON.parse(msgBody)\n        });\n        log(iframeId, '--');\n      }\n\n      function getPageInfo() {\n        var bodyPosition = document.body.getBoundingClientRect(),\n            iFramePosition = messageData.iframe.getBoundingClientRect();\n        return JSON.stringify({\n          iframeHeight: iFramePosition.height,\n          iframeWidth: iFramePosition.width,\n          clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\n          clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n          offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n          offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n          scrollTop: window.pageYOffset,\n          scrollLeft: window.pageXOffset,\n          documentHeight: document.documentElement.clientHeight,\n          documentWidth: document.documentElement.clientWidth,\n          windowHeight: window.innerHeight,\n          windowWidth: window.innerWidth\n        });\n      }\n\n      function sendPageInfoToIframe(iframe, iframeId) {\n        function debouncedTrigger() {\n          trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId);\n        }\n\n        debounceFrameEvents(debouncedTrigger, 32, iframeId);\n      }\n\n      function startPageInfoMonitor() {\n        function setListener(type, func) {\n          function sendPageInfo() {\n            if (settings[id]) {\n              sendPageInfoToIframe(settings[id].iframe, id);\n            } else {\n              stop();\n            }\n          }\n\n          ['scroll', 'resize'].forEach(function (evt) {\n            log(id, type + evt + ' listener for sendPageInfo');\n            func(window, evt, sendPageInfo);\n          });\n        }\n\n        function stop() {\n          setListener('Remove ', removeEventListener);\n        }\n\n        function start() {\n          setListener('Add ', addEventListener);\n        }\n\n        var id = iframeId; // Create locally scoped copy of iFrame ID\n\n        start();\n\n        if (settings[id]) {\n          settings[id].stopPageInfo = stop;\n        }\n      }\n\n      function stopPageInfoMonitor() {\n        if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n          settings[iframeId].stopPageInfo();\n          delete settings[iframeId].stopPageInfo;\n        }\n      }\n\n      function checkIFrameExists() {\n        var retBool = true;\n\n        if (null === messageData.iframe) {\n          warn(iframeId, 'IFrame (' + messageData.id + ') not found');\n          retBool = false;\n        }\n\n        return retBool;\n      }\n\n      function getElementPosition(target) {\n        var iFramePosition = target.getBoundingClientRect();\n        getPagePosition(iframeId);\n        return {\n          x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n          y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n        };\n      }\n\n      function scrollRequestFromChild(addOffset) {\n        /* istanbul ignore next */\n        // Not testable in Karma\n        function reposition() {\n          pagePosition = newPosition;\n          scrollTo();\n          log(iframeId, '--');\n        }\n\n        function calcOffset() {\n          return {\n            x: Number(messageData.width) + offset.x,\n            y: Number(messageData.height) + offset.y\n          };\n        }\n\n        function scrollParent() {\n          if (window.parentIFrame) {\n            window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](newPosition.x, newPosition.y);\n          } else {\n            warn(iframeId, 'Unable to scroll to requested position, window.parentIFrame not found');\n          }\n        }\n\n        var offset = addOffset ? getElementPosition(messageData.iframe) : {\n          x: 0,\n          y: 0\n        },\n            newPosition = calcOffset();\n        log(iframeId, 'Reposition requested from iFrame (offset x:' + offset.x + ' y:' + offset.y + ')');\n\n        if (window.top !== window.self) {\n          scrollParent();\n        } else {\n          reposition();\n        }\n      }\n\n      function scrollTo() {\n        if (false !== on('onScroll', pagePosition)) {\n          setPagePosition(iframeId);\n        } else {\n          unsetPagePosition();\n        }\n      }\n\n      function findTarget(location) {\n        function jumpToTarget() {\n          var jumpPosition = getElementPosition(target);\n          log(iframeId, 'Moving to in page link (#' + hash + ') at x: ' + jumpPosition.x + ' y: ' + jumpPosition.y);\n          pagePosition = {\n            x: jumpPosition.x,\n            y: jumpPosition.y\n          };\n          scrollTo();\n          log(iframeId, '--');\n        }\n\n        function jumpToParent() {\n          if (window.parentIFrame) {\n            window.parentIFrame.moveToAnchor(hash);\n          } else {\n            log(iframeId, 'In page link #' + hash + ' not found and window.parentIFrame not found');\n          }\n        }\n\n        var hash = location.split('#')[1] || '',\n            hashData = decodeURIComponent(hash),\n            target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n        if (target) {\n          jumpToTarget();\n        } else if (window.top !== window.self) {\n          jumpToParent();\n        } else {\n          log(iframeId, 'In page link #' + hash + ' not found');\n        }\n      }\n\n      function onMouse(event) {\n        on(event, {\n          iframe: messageData.iframe,\n          screenX: messageData.width,\n          screenY: messageData.height,\n          type: messageData.type\n        });\n      }\n\n      function on(funcName, val) {\n        return chkEvent(iframeId, funcName, val);\n      }\n\n      function actionMsg() {\n        if (settings[iframeId] && settings[iframeId].firstRun) firstRun();\n\n        switch (messageData.type) {\n          case 'close':\n            closeIFrame(messageData.iframe);\n            break;\n\n          case 'message':\n            forwardMsgFromIFrame(getMsgBody(6));\n            break;\n\n          case 'mouseenter':\n            onMouse('onMouseEnter');\n            break;\n\n          case 'mouseleave':\n            onMouse('onMouseLeave');\n            break;\n\n          case 'autoResize':\n            settings[iframeId].autoResize = JSON.parse(getMsgBody(9));\n            break;\n\n          case 'scrollTo':\n            scrollRequestFromChild(false);\n            break;\n\n          case 'scrollToOffset':\n            scrollRequestFromChild(true);\n            break;\n\n          case 'pageInfo':\n            sendPageInfoToIframe(settings[iframeId] && settings[iframeId].iframe, iframeId);\n            startPageInfoMonitor();\n            break;\n\n          case 'pageInfoStop':\n            stopPageInfoMonitor();\n            break;\n\n          case 'inPageLink':\n            findTarget(getMsgBody(9));\n            break;\n\n          case 'reset':\n            resetIFrame(messageData);\n            break;\n\n          case 'init':\n            resizeIFrame();\n            on('onInit', messageData.iframe);\n            break;\n\n          default:\n            resizeIFrame();\n        }\n      }\n\n      function hasSettings(iframeId) {\n        var retBool = true;\n\n        if (!settings[iframeId]) {\n          retBool = false;\n          warn(messageData.type + ' No settings for ' + iframeId + '. Message was: ' + msg);\n        }\n\n        return retBool;\n      }\n\n      function iFrameReadyMsgReceived() {\n        // eslint-disable-next-line no-restricted-syntax, guard-for-in\n        for (var iframeId in settings) {\n          trigger('iFrame requested init', createOutgoingMsg(iframeId), settings[iframeId].iframe, iframeId);\n        }\n      }\n\n      function firstRun() {\n        if (settings[iframeId]) {\n          settings[iframeId].firstRun = false;\n        }\n      }\n\n      var msg = event.data,\n          messageData = {},\n          iframeId = null;\n\n      if ('[iFrameResizerChild]Ready' === msg) {\n        iFrameReadyMsgReceived();\n      } else if (isMessageForUs()) {\n        messageData = processMsg();\n        iframeId = messageData.id;\n\n        if (settings[iframeId]) {\n          settings[iframeId].loaded = true;\n        }\n\n        if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n          log(iframeId, 'Received: ' + msg);\n\n          if (checkIFrameExists() && isMessageFromIFrame()) {\n            actionMsg();\n          }\n        }\n      } else {\n        info(iframeId, 'Ignored: ' + msg);\n      }\n    }\n\n    function chkEvent(iframeId, funcName, val) {\n      var func = null,\n          retVal = null;\n\n      if (settings[iframeId]) {\n        func = settings[iframeId][funcName];\n\n        if ('function' === typeof func) {\n          retVal = func(val);\n        } else {\n          throw new TypeError(funcName + ' on iFrame[' + iframeId + '] is not a function');\n        }\n      }\n\n      return retVal;\n    }\n\n    function removeIframeListeners(iframe) {\n      var iframeId = iframe.id;\n      delete settings[iframeId];\n    }\n\n    function closeIFrame(iframe) {\n      var iframeId = iframe.id;\n\n      if (chkEvent(iframeId, 'onClose', iframeId) === false) {\n        log(iframeId, 'Close iframe cancelled by onClose event');\n        return;\n      }\n\n      log(iframeId, 'Removing iFrame: ' + iframeId);\n\n      try {\n        // Catch race condition error with React\n        if (iframe.parentNode) {\n          iframe.parentNode.removeChild(iframe);\n        }\n      } catch (error) {\n        warn(error);\n      }\n\n      chkEvent(iframeId, 'onClosed', iframeId);\n      log(iframeId, '--');\n      removeIframeListeners(iframe);\n    }\n\n    function getPagePosition(iframeId) {\n      if (null === pagePosition) {\n        pagePosition = {\n          x: window.pageXOffset !== undefined$1 ? window.pageXOffset : document.documentElement.scrollLeft,\n          y: window.pageYOffset !== undefined$1 ? window.pageYOffset : document.documentElement.scrollTop\n        };\n        log(iframeId, 'Get page position: ' + pagePosition.x + ',' + pagePosition.y);\n      }\n    }\n\n    function setPagePosition(iframeId) {\n      if (null !== pagePosition) {\n        window.scrollTo(pagePosition.x, pagePosition.y);\n        log(iframeId, 'Set page position: ' + pagePosition.x + ',' + pagePosition.y);\n        unsetPagePosition();\n      }\n    }\n\n    function unsetPagePosition() {\n      pagePosition = null;\n    }\n\n    function resetIFrame(messageData) {\n      function reset() {\n        setSize(messageData);\n        trigger('reset', 'reset', messageData.iframe, messageData.id);\n      }\n\n      log(messageData.id, 'Size reset requested by ' + ('init' === messageData.type ? 'host page' : 'iFrame'));\n      getPagePosition(messageData.id);\n      syncResize(reset, messageData, 'reset');\n    }\n\n    function setSize(messageData) {\n      function setDimension(dimension) {\n        if (!messageData.id) {\n          log('undefined', 'messageData id not set');\n          return;\n        }\n\n        messageData.iframe.style[dimension] = messageData[dimension] + 'px';\n        log(messageData.id, 'IFrame (' + iframeId + ') ' + dimension + ' set to ' + messageData[dimension] + 'px');\n      }\n\n      function chkZero(dimension) {\n        // FireFox sets dimension of hidden iFrames to zero.\n        // So if we detect that set up an event to check for\n        // when iFrame becomes visible.\n\n        /* istanbul ignore next */\n        // Not testable in PhantomJS\n        if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n          hiddenCheckEnabled = true;\n          log(iframeId, 'Hidden iFrame detected, creating visibility listener');\n          fixHiddenIFrames();\n        }\n      }\n\n      function processDimension(dimension) {\n        setDimension(dimension);\n        chkZero(dimension);\n      }\n\n      var iframeId = messageData.iframe.id;\n\n      if (settings[iframeId]) {\n        if (settings[iframeId].sizeHeight) {\n          processDimension('height');\n        }\n\n        if (settings[iframeId].sizeWidth) {\n          processDimension('width');\n        }\n      }\n    }\n\n    function syncResize(func, messageData, doNotSync) {\n      /* istanbul ignore if */\n      // Not testable in PhantomJS\n      if (doNotSync !== messageData.type && requestAnimationFrame && // including check for jasmine because had trouble getting spy to work in unit test using requestAnimationFrame\n      !window.jasmine) {\n        log(messageData.id, 'Requesting animation frame');\n        requestAnimationFrame(func);\n      } else {\n        func();\n      }\n    }\n\n    function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n      function postMessageToIFrame() {\n        var target = settings[id] && settings[id].targetOrigin;\n        log(id, '[' + calleeMsg + '] Sending msg to iframe[' + id + '] (' + msg + ') targetOrigin: ' + target);\n        iframe.contentWindow.postMessage(msgId + msg, target);\n      }\n\n      function iFrameNotFound() {\n        warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');\n      }\n\n      function chkAndSend() {\n        if (iframe && 'contentWindow' in iframe && null !== iframe.contentWindow) {\n          // Null test for PhantomJS\n          postMessageToIFrame();\n        } else {\n          iFrameNotFound();\n        }\n      }\n\n      function warnOnNoResponse() {\n        function warning() {\n          if (settings[id] && !settings[id].loaded && !errorShown) {\n            errorShown = true;\n            warn(id, 'IFrame has not responded within ' + settings[id].warningTimeout / 1000 + ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.');\n          }\n        }\n\n        if (!!noResponseWarning && settings[id] && !!settings[id].warningTimeout) {\n          settings[id].msgTimeout = setTimeout(warning, settings[id].warningTimeout);\n        }\n      }\n\n      var errorShown = false;\n      id = id || iframe.id;\n\n      if (settings[id]) {\n        chkAndSend();\n        warnOnNoResponse();\n      }\n    }\n\n    function createOutgoingMsg(iframeId) {\n      return iframeId + ':' + settings[iframeId].bodyMarginV1 + ':' + settings[iframeId].sizeWidth + ':' + settings[iframeId].log + ':' + settings[iframeId].interval + ':' + settings[iframeId].enablePublicMethods + ':' + settings[iframeId].autoResize + ':' + settings[iframeId].bodyMargin + ':' + settings[iframeId].heightCalculationMethod + ':' + settings[iframeId].bodyBackground + ':' + settings[iframeId].bodyPadding + ':' + settings[iframeId].tolerance + ':' + settings[iframeId].inPageLinks + ':' + settings[iframeId].resizeFrom + ':' + settings[iframeId].widthCalculationMethod;\n    }\n\n    function setupIFrame(iframe, options) {\n      function setLimits() {\n        function addStyle(style) {\n          if (Infinity !== settings[iframeId][style] && 0 !== settings[iframeId][style]) {\n            iframe.style[style] = settings[iframeId][style] + 'px';\n            log(iframeId, 'Set ' + style + ' = ' + settings[iframeId][style] + 'px');\n          }\n        }\n\n        function chkMinMax(dimension) {\n          if (settings[iframeId]['min' + dimension] > settings[iframeId]['max' + dimension]) {\n            throw new Error('Value for min' + dimension + ' can not be greater than max' + dimension);\n          }\n        }\n\n        chkMinMax('Height');\n        chkMinMax('Width');\n        addStyle('maxHeight');\n        addStyle('minHeight');\n        addStyle('maxWidth');\n        addStyle('minWidth');\n      }\n\n      function newId() {\n        var id = options && options.id || defaults.id + count++;\n\n        if (null !== document.getElementById(id)) {\n          id += count++;\n        }\n\n        return id;\n      }\n\n      function ensureHasId(iframeId) {\n        if ('' === iframeId) {\n          // eslint-disable-next-line no-multi-assign\n          iframe.id = iframeId = newId();\n          logEnabled = (options || {}).log;\n          log(iframeId, 'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')');\n        }\n\n        return iframeId;\n      }\n\n      function setScrolling() {\n        log(iframeId, 'IFrame scrolling ' + (settings[iframeId] && settings[iframeId].scrolling ? 'enabled' : 'disabled') + ' for ' + iframeId);\n        iframe.style.overflow = false === (settings[iframeId] && settings[iframeId].scrolling) ? 'hidden' : 'auto';\n\n        switch (settings[iframeId] && settings[iframeId].scrolling) {\n          case 'omit':\n            break;\n\n          case true:\n            iframe.scrolling = 'yes';\n            break;\n\n          case false:\n            iframe.scrolling = 'no';\n            break;\n\n          default:\n            iframe.scrolling = settings[iframeId] ? settings[iframeId].scrolling : 'no';\n        }\n      } // The V1 iFrame script expects an int, where as in V2 expects a CSS\n      // string value such as '1px 3em', so if we have an int for V2, set V1=V2\n      // and then convert V2 to a string PX value.\n\n\n      function setupBodyMarginValues() {\n        if ('number' === typeof (settings[iframeId] && settings[iframeId].bodyMargin) || '0' === (settings[iframeId] && settings[iframeId].bodyMargin)) {\n          settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;\n          settings[iframeId].bodyMargin = '' + settings[iframeId].bodyMargin + 'px';\n        }\n      }\n\n      function checkReset() {\n        // Reduce scope of firstRun to function, because IE8's JS execution\n        // context stack is borked and this value gets externally\n        // changed midway through running this function!!!\n        var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n            resetRequertMethod = settings[iframeId] && settings[iframeId].heightCalculationMethod in resetRequiredMethods;\n\n        if (!firstRun && resetRequertMethod) {\n          resetIFrame({\n            iframe: iframe,\n            height: 0,\n            width: 0,\n            type: 'init'\n          });\n        }\n      }\n\n      function setupIFrameObject() {\n        if (settings[iframeId]) {\n          settings[iframeId].iframe.iFrameResizer = {\n            close: closeIFrame.bind(null, settings[iframeId].iframe),\n            removeListeners: removeIframeListeners.bind(null, settings[iframeId].iframe),\n            resize: trigger.bind(null, 'Window resize', 'resize', settings[iframeId].iframe),\n            moveToAnchor: function moveToAnchor(anchor) {\n              trigger('Move to anchor', 'moveToAnchor:' + anchor, settings[iframeId].iframe, iframeId);\n            },\n            sendMessage: function sendMessage(message) {\n              message = JSON.stringify(message);\n              trigger('Send Message', 'message:' + message, settings[iframeId].iframe, iframeId);\n            }\n          };\n        }\n      } // We have to call trigger twice, as we can not be sure if all\n      // iframes have completed loading when this code runs. The\n      // event listener also catches the page changing in the iFrame.\n\n\n      function init(msg) {\n        function iFrameLoaded() {\n          trigger('iFrame.onload', msg, iframe, undefined$1, true);\n          checkReset();\n        }\n\n        function createDestroyObserver(MutationObserver) {\n          if (!iframe.parentNode) {\n            return;\n          }\n\n          var destroyObserver = new MutationObserver(function (mutations) {\n            mutations.forEach(function (mutation) {\n              var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array\n\n              removedNodes.forEach(function (removedNode) {\n                if (removedNode === iframe) {\n                  closeIFrame(iframe);\n                }\n              });\n            });\n          });\n          destroyObserver.observe(iframe.parentNode, {\n            childList: true\n          });\n        }\n\n        var MutationObserver = getMutationObserver();\n\n        if (MutationObserver) {\n          createDestroyObserver(MutationObserver);\n        }\n\n        addEventListener(iframe, 'load', iFrameLoaded);\n        trigger('init', msg, iframe, undefined$1, true);\n      }\n\n      function checkOptions(options) {\n        if ('object' !== typeof options) {\n          throw new TypeError('Options is not an object');\n        }\n      }\n\n      function copyOptions(options) {\n        // eslint-disable-next-line no-restricted-syntax\n        for (var option in defaults) {\n          if (Object.prototype.hasOwnProperty.call(defaults, option)) {\n            settings[iframeId][option] = Object.prototype.hasOwnProperty.call(options, option) ? options[option] : defaults[option];\n          }\n        }\n      }\n\n      function getTargetOrigin(remoteHost) {\n        return '' === remoteHost || null !== remoteHost.match(/^(about:blank|javascript:|file:\\/\\/)/) ? '*' : remoteHost;\n      }\n\n      function depricate(key) {\n        var splitName = key.split('Callback');\n\n        if (splitName.length === 2) {\n          var name = 'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1);\n          this[name] = this[key];\n          delete this[key];\n          warn(iframeId, \"Deprecated: '\" + key + \"' has been renamed '\" + name + \"'. The old method will be removed in the next major version.\");\n        }\n      }\n\n      function processOptions(options) {\n        options = options || {};\n        settings[iframeId] = {\n          firstRun: true,\n          iframe: iframe,\n          remoteHost: iframe.src && iframe.src.split('/').slice(0, 3).join('/')\n        };\n        checkOptions(options);\n        Object.keys(options).forEach(depricate, options);\n        copyOptions(options);\n\n        if (settings[iframeId]) {\n          settings[iframeId].targetOrigin = true === settings[iframeId].checkOrigin ? getTargetOrigin(settings[iframeId].remoteHost) : '*';\n        }\n      }\n\n      function beenHere() {\n        return iframeId in settings && 'iFrameResizer' in iframe;\n      }\n\n      var iframeId = ensureHasId(iframe.id);\n\n      if (!beenHere()) {\n        processOptions(options);\n        setScrolling();\n        setLimits();\n        setupBodyMarginValues();\n        init(createOutgoingMsg(iframeId));\n        setupIFrameObject();\n      } else {\n        warn(iframeId, 'Ignored iFrame, already setup.');\n      }\n    }\n\n    function debouce(fn, time) {\n      if (null === timer) {\n        timer = setTimeout(function () {\n          timer = null;\n          fn();\n        }, time);\n      }\n    }\n\n    var frameTimer = {};\n\n    function debounceFrameEvents(fn, time, frameId) {\n      if (!frameTimer[frameId]) {\n        frameTimer[frameId] = setTimeout(function () {\n          frameTimer[frameId] = null;\n          fn();\n        }, time);\n      }\n    } // Not testable in PhantomJS\n\n    /* istanbul ignore next */\n\n\n    function fixHiddenIFrames() {\n      function checkIFrames() {\n        function checkIFrame(settingId) {\n          function chkDimension(dimension) {\n            return '0px' === (settings[settingId] && settings[settingId].iframe.style[dimension]);\n          }\n\n          function isVisible(el) {\n            return null !== el.offsetParent;\n          }\n\n          if (settings[settingId] && isVisible(settings[settingId].iframe) && (chkDimension('height') || chkDimension('width'))) {\n            trigger('Visibility change', 'resize', settings[settingId].iframe, settingId);\n          }\n        }\n\n        Object.keys(settings).forEach(function (key) {\n          checkIFrame(key);\n        });\n      }\n\n      function mutationObserved(mutations) {\n        log('window', 'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type);\n        debouce(checkIFrames, 16);\n      }\n\n      function createMutationObserver() {\n        var target = document.querySelector('body'),\n            config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        },\n            observer = new MutationObserver(mutationObserved);\n        observer.observe(target, config);\n      }\n\n      var MutationObserver = getMutationObserver();\n\n      if (MutationObserver) {\n        createMutationObserver();\n      }\n    }\n\n    function resizeIFrames(event) {\n      function resize() {\n        sendTriggerMsg('Window ' + event, 'resize');\n      }\n\n      log('window', 'Trigger event: ' + event);\n      debouce(resize, 16);\n    } // Not testable in PhantomJS\n\n    /* istanbul ignore next */\n\n\n    function tabVisible() {\n      function resize() {\n        sendTriggerMsg('Tab Visable', 'resize');\n      }\n\n      if ('hidden' !== document.visibilityState) {\n        log('document', 'Trigger event: Visiblity change');\n        debouce(resize, 16);\n      }\n    }\n\n    function sendTriggerMsg(eventName, event) {\n      function isIFrameResizeEnabled(iframeId) {\n        return settings[iframeId] && 'parent' === settings[iframeId].resizeFrom && settings[iframeId].autoResize && !settings[iframeId].firstRun;\n      }\n\n      Object.keys(settings).forEach(function (iframeId) {\n        if (isIFrameResizeEnabled(iframeId)) {\n          trigger(eventName, event, settings[iframeId].iframe, iframeId);\n        }\n      });\n    }\n\n    function setupEventListeners() {\n      addEventListener(window, 'message', iFrameListener);\n      addEventListener(window, 'resize', function () {\n        resizeIFrames('resize');\n      });\n      addEventListener(document, 'visibilitychange', tabVisible);\n      addEventListener(document, '-webkit-visibilitychange', tabVisible);\n    }\n\n    function factory() {\n      function init(options, element) {\n        function chkType() {\n          if (!element.tagName) {\n            throw new TypeError('Object is not a valid DOM element');\n          } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n            throw new TypeError('Expected <IFRAME> tag, found <' + element.tagName + '>');\n          }\n        }\n\n        if (element) {\n          chkType();\n          setupIFrame(element, options);\n          iFrames.push(element);\n        }\n      }\n\n      function warnDeprecatedOptions(options) {\n        if (options && options.enablePublicMethods) {\n          warn('enablePublicMethods option has been removed, public methods are now always available in the iFrame');\n        }\n      }\n\n      var iFrames;\n      setupRequestAnimationFrame();\n      setupEventListeners();\n      return function iFrameResizeF(options, target) {\n        iFrames = []; // Only return iFrames past in on this call\n\n        warnDeprecatedOptions(options);\n\n        switch (typeof target) {\n          case 'undefined':\n          case 'string':\n            Array.prototype.forEach.call(document.querySelectorAll(target || 'iframe'), init.bind(undefined$1, options));\n            break;\n\n          case 'object':\n            init(options, target);\n            break;\n\n          default:\n            throw new TypeError('Unexpected data type (' + typeof target + ')');\n        }\n\n        return iFrames;\n      };\n    }\n\n    function createJQueryPublicMethod($) {\n      if (!$.fn) {\n        info('', 'Unable to bind to jQuery, it is not fully loaded.');\n      } else if (!$.fn.iFrameResize) {\n        $.fn.iFrameResize = function $iFrameResizeF(options) {\n          function init(index, element) {\n            setupIFrame(element, options);\n          }\n\n          return this.filter('iframe').each(init).end();\n        };\n      }\n    }\n\n    if (window.jQuery) {\n      createJQueryPublicMethod(window.jQuery);\n    }\n\n    if (typeof undefined$1 === 'function' && undefined$1.amd) {\n      undefined$1([], factory);\n    } else {\n      // Node for browserfy\n      module.exports = factory();\n    }\n\n    window.iFrameResize = window.iFrameResize || factory();\n  })();\n});\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function warning() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nvar warning_1 = warning;\n\nvar filterIframeAttribs = function filterIframeAttribs(props) {\n  var autoResize = props.autoResize,\n      bodyBackground = props.bodyBackground,\n      bodyMargin = props.bodyMargin,\n      bodyPadding = props.bodyPadding,\n      checkOrigin = props.checkOrigin,\n      inPageLinks = props.inPageLinks,\n      heightCalculationMethod = props.heightCalculationMethod,\n      interval = props.interval,\n      log = props.log,\n      maxHeight = props.maxHeight,\n      maxWidth = props.maxWidth,\n      minHeight = props.minHeight,\n      minWidth = props.minWidth,\n      resizeFrom = props.resizeFrom,\n      scrolling = props.scrolling,\n      sizeHeight = props.sizeHeight,\n      sizeWidth = props.sizeWidth,\n      warningTimeout = props.warningTimeout,\n      tolerance = props.tolerance,\n      widthCalculationMethod = props.widthCalculationMethod,\n      onClosed = props.onClosed,\n      onInit = props.onInit,\n      onMessage = props.onMessage,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onResized = props.onResized,\n      iframeProps = _objectWithoutPropertiesLoose(props, [\"autoResize\", \"bodyBackground\", \"bodyMargin\", \"bodyPadding\", \"checkOrigin\", \"inPageLinks\", \"heightCalculationMethod\", \"interval\", \"log\", \"maxHeight\", \"maxWidth\", \"minHeight\", \"minWidth\", \"resizeFrom\", \"scrolling\", \"sizeHeight\", \"sizeWidth\", \"warningTimeout\", \"tolerance\", \"widthCalculationMethod\", \"onClosed\", \"onInit\", \"onMessage\", \"onMouseEnter\", \"onMouseLeave\", \"onResized\"]);\n\n  return iframeProps;\n};\n\nvar IframeResizer = function IframeResizer(props) {\n  var title = props.title,\n      forwardRef = props.forwardRef,\n      rest = _objectWithoutPropertiesLoose(props, [\"title\", \"forwardRef\"]);\n\n  var iframeProps = filterIframeAttribs(rest);\n  var iframeRef = useRef(null);\n\n  var onClose = function onClose() {\n    warning_1(!iframeRef.current, \"[iframeSizerReact][\" + (iframeRef && iframeRef.current && iframeRef.current.id) + \"] Close event ignored, to remove the iframe update your React component\");\n    return !iframeRef.current;\n  }; // This hook is only run once, as once iframeResizer is bound, it will\n  // deal with changes to the element and does not need recalling\n\n\n  useEffect(function () {\n    var iframe = iframeRef.current;\n    iframeResizer(_extends({}, rest, {\n      onClose: onClose\n    }), iframe);\n    return function () {\n      return iframe.iFrameResizer && iframe.iFrameResizer.removeListeners();\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useImperativeHandle(forwardRef, function () {\n    return {\n      resize: function resize() {\n        return iframeRef.current.iFrameResizer.resize();\n      },\n      moveToAnchor: function moveToAnchor(anchor) {\n        return iframeRef.current.iFrameResizer.moveToAnchor(anchor);\n      },\n      sendMessage: function sendMessage(message, targetOrigin) {\n        iframeRef.current.iFrameResizer.sendMessage(message, targetOrigin);\n      }\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"iframe\", _extends({\n    title: title\n  }, iframeProps, {\n    ref: iframeRef\n  }));\n};\n\nIframeResizer.defaultProps = {\n  title: 'iframe'\n};\nexport default IframeResizer;","import * as React from 'react'\nimport Seo from '../../components/Seo'\nimport ReactGodot from 'react-godot'\nimport IframeResizer from 'iframe-resizer-react'\nimport styled from 'styled-components'\n\nconst ShtetlDefender = styled.div`\n  display: flex;\n  min-height: 500px;\n  @media (max-width: 588px) {\n      min-height: 350px;\n  }\n`\n\nexport default function StarryShtetlDefenderPage() {\n    return (\n        <>\n            <Seo title={\"Starry Shtetl Defender\"} />\n            <h1>Starry Shtetl Defender</h1>\n\n            <div className=\"bandcamp-album\">\n                <iframe title=\"Starry Shtetl by Glitch Kibbitz\" style={{ border: '0', height: '150px' }} src=\"https://bandcamp.com/EmbeddedPlayer/album=819699252/size=small/bgcol=ffffff/linkcol=0687f5/transparent=true/\" seamless><a href=\"https://glitchkibbitz.bandcamp.com/album/starry-shtetl\">Starry Shtetl by Glitch Kibbitz</a></iframe>\n            </div>\n\n            <ShtetlDefender>\n                <IframeResizer\n                    style={{ border: '0', width: '100%'}}\n                    title=\"Shtetl Defender\"\n                    src=\"https://gotm.io/browncanstudios/starryshtetldefender?forceFullscreen=true\"\n                />\n            </ShtetlDefender>\n\n            <i>Game not loading? Try <a href=\"/StarryShtetlDefenderExport/StarryShtetlDefender.html\">this version</a>.</i>\n        </>\n    );\n}"],"sourceRoot":""}